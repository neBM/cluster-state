{
  "ID": "uptime",
  "Name": "Uptime",
  "TaskGroups": [
    {
      "Name": "Uptime Servers",
      "Tasks": [
        {
          "Name": "kuma",
          "Driver": "docker",
          "Config": {
            "image": "louislam/uptime-kuma:latest",
            "ports": [
              "web"
            ],
            "mounts": [
              {
                "type": "volume",
                "target": "/app/data",
                "source": "kuma-data"
              },
              {
                "type": "bind",
                "target": "/var/run/docker.sock",
                "source": "/var/run/docker.sock"
              }
            ],
            "extra_hosts": [
              "host.docker.internal:host-gateway"
            ],
            "logging": {
              "type": "elastic/elastic-logging-plugin:8.14.3",
              "config": [
                {
                  "hosts": "http://localhost:9200",
                  "user": "docker_writer",
                  "password": "oi*YWZSP_Ukd0y+pQ7EB"
                }
              ]
            }
          },
          "Resources": {
            "CPU": 500,
            "MemoryMB": 512
          }
        }
      ],
      "Services": [
        {
          "Name": "Kuma",
          "Provider": "nomad",
          "PortLabel": "web",
          "Tags": [
            "traefik.enable=true",
            "traefik.http.routers.kuma.entrypoints=websecure",
            "traefik.http.routers.kuma.rule=Host(`status.brmartin.co.uk`)"
          ]

        }
      ],
      "Networks": [
        {
          "DynamicPorts": [
            {
              "Label": "web",
              "To": 3001
            }
          ]
        }
      ]
    }
  ]
}